Methodology
============
**Copper** generates sets of performance curves by modifying a set of "seed" or "base" curves to match the user-specified targeted equipment efficiencies, at full and part load. The seed set of curves can be provided by a user or generated by **Copper**. **Copper** can generate a generic set of performance curves for an equipment definition by aggregating existing performance curves stored in the data libraries.

Aggregation
------------
**Copper** allows users to choose between four different types of aggregations: `average`, `median`, `weighted average`, and `nearest neighbor weighted average`. These aggregations all follow the same approach; only step 3 below differs. 

    1. A set(s) of curves is selected from the dataset (all or a subset based on the method)
    2. Outputs are aggregated

      * `average`: averaged curve output for each independent variable
      * `median`: median curve output for each independent variable
      * `weighted average`: same as average, but a score is associated with each curve (the higher score, the better the match to the user-specified equipment characteristics)
      * `nearest neighbor weighted average`: same as weighted average but for a selected number of curves that best match the user-specified equipment characteristics

    3. OLS regression is performed using the aggregated outputs
    4. Curve is normalized at rated/reference conditions

Curve generation
-----------------
A genetic algorithm is used to obtain a set of curves that matches the user-specified efficiencies. An initial population is generated based on the seed set of curves. The fitness of each individual from the population is evaluated in terms of how close the set of curves (along with the other equipment characteristics) is to the targeted full and part load efficiencies. New populations are generated using the sets of curves with the best fitness. The process is repeated until a satisfactory set of curves is found.